@using MudBlazor
@using Primal.Client.Services
@inherits LayoutComponentBase

@inject ThemeService ThemeService

<MudThemeProvider @bind-IsDarkMode="ThemeService.IsDarkMode" Theme="ThemeService.CurrentTheme" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout Style="height: 100%;">
    <MudAppBar Color="Color.Primary" Elevation="1">
        <MudText Typo="Typo.h5" Class="ml-3">Ulam Spiral</MudText>
        <MudSpacer/>

        @* <MudHidden Breakpoint="Breakpoint.MdAndDown"> *@
            <MudButtonGroup Edge="Edge.End">
            <MudIconButton Color="Color.Inherit" Icon="@Icons.Material.Filled.ZoomOut" OnClick="@ZoomOut" />
            <MudIconButton Color="Color.Inherit" Icon="@Icons.Material.Filled.ZoomIn" OnClick="@ZoomIn" />
            <MudIconButton Color="Color.Inherit" Icon="@Icons.Material.Filled.Brightness4" OnClick="@ToggleDarkMode" />
                <MudIconButton Color="Color.Inherit" Icon="@Icons.Material.Filled.Build" OnClick="@ToggleTools"/>
            </MudButtonGroup>
        @* </MudHidden> *@

@*         <MudHidden Breakpoint="Breakpoint.LgAndUp">
            <!-- Dropdown menu for smaller screens -->
            <MudMenu Icon="@Icons.Material.Filled.MoreVert" Direction="Direction.Bottom">
                <MudMenuItem OnClick="@ToggleDarkMode">Toggle Dark Mode</MudMenuItem>
                <MudMenuItem OnClick="@ToggleTools">Toggle Tools</MudMenuItem>
            </MudMenu>
        </MudHidden> *@
    </MudAppBar>
    <MudMainContent Style="height: 100%;">
        @Body
    </MudMainContent>
</MudLayout>

@code {
    void ToggleDarkMode()
    {
        ThemeService.IsDarkMode = !ThemeService.IsDarkMode;
    }

    private void ToggleTools()
    {
        ThemeService.ToggleTools();
    }

    private void ZoomOut()
    {
        ThemeService.ZoomOut();
    }

    private void ZoomIn()
    {
        ThemeService.ZoomIn();
    }
}